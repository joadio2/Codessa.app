---
const { text } = Astro.props;

---

<div class="container">
  <div class="left">
    <h1>Codessa</h1>
  </div>

  <button
    id="menu-toggle"
    aria-label="Toggle menu"
    aria-expanded="false"
    aria-controls="nav-menu"
    type="button"
    
  >
    &#9776;
  </button>

  <nav class="right" id="nav-menu" role="navigation">
    <h1>{text('nav.home')}</h1>
    <h1>{text('nav.about')}</h1>
    <h1>{text('nav.contact')}</h1>
  </nav>
</div>

<style >

  .container {
   
  
    position: sticky;
    top: 0;
    right: 0;
    z-index: 10;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    background-color: transparent;
    color: rgba(255, 255, 255, 0.627);
    animation: navAnimation linear both;
    animation-timeline: scroll(root);
   
    animation-range: 0 10%;
    
  }

  @keyframes navAnimation {
    to {
      background-color: #140152;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
    }
  }

  .right {
    display: flex;
    flex-direction: row;
    gap: 2rem;
    margin-right: 2rem;
  }

  .left {
    display: flex;
    flex-direction: column;
    margin-left: 2rem;
  }

  #menu-toggle {
    display: none;
    font-size: 2rem;
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    cursor: pointer;
  }

  @media (max-width: 1024px) {
    .container {
      
    }
    .right {
      position: absolute;
      top: 4.8rem;
      right: 0;
      background-color: #140152;
      flex-direction: column;
      width: 200px;
      padding: 1rem;
      gap: 1rem;
      margin: 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
      display: none;
      border-radius: 1rem;
      box-sizing: border-box;
    }

    .right.open {
      display: flex;
    }

    #menu-toggle {
      display: block;
    }

    .right h1 {
      margin: 0;
      font-size: 1.2rem;
      cursor: pointer;
    }
  }
</style>

<script client:load>
  const button = document.getElementById('menu-toggle');
  const navMenu = document.getElementById('nav-menu');

  button.addEventListener('click', () => {
    const isOpen = navMenu.classList.toggle('open');
    button.setAttribute('aria-expanded', isOpen.toString());
  });
</script>